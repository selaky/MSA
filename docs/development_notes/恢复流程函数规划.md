游戏中，AP药和BC药处于两个一模一样且不同时出现的界面，它们所有的位置和按钮都是一样的，因此所有位置信息都可以复用。
把 AP 药和 BC 药使用的函数也一起复用。判别当前处理的是哪种药的方法，是通过节点名来判断：看节点名里带 AP 还是 BC; 在处理大药和小药时，则看节点名称中的“大”和“小”字。那么做的目的是减少传递参数数量，避免节点名和实际参数可能不一致的问题。


1. 统计药水数量：
大药ROI：[785,385,93,29]
小药ROI：[785,497,93,32]
上述两个区域是大药和小药数字会出现的区域，需要 OCR 识别后把reco_detail.best_result.text的字符串转换为数字，然后根据当前识别的药水种类储存相应的信息，供后续使用。药水合理范围是0-99999。
OCR 结果不做容错替换处理，只提取数字，如果提不到数字就重试，三次不成功就报错退出。

2. 判断是否使用药品
pipeline 内一共存在 6 个判断节点，分别是判断是否使用大小 APBC 药以及两类药的停止节点，其中，大小 AP 和 BC 药都会在节点名中有体现，可以让函数识别到。停止节点不需要函数处理，不会使用本函数，它以 direct hit 为条件，作为前两者都返回 false 之后的兜底选项。
这个函数需要读取的信息如下：1、从节点名中得知当前是在 AP 还是 BC 板块。2、从节点名得知当前判断的是大药还是小药。3、用户输入的吃药数量上限。4、当前已经吃了的药的数量。
这个函数需要判断是否要吃当前节点对应的药。如果根据之前识别到的数字当前对应药水数量为0，或者是已经吃的药数量达到了规定数量（数量输入-1为无上限），则不吃该药，节点未命中，反之则判断为应该吃药，节点命中。
按照当前的节点连线，只有首个命中的节点会被执行，因此不用担心大小两种药水冲突。

3. 增加已吃药数量
这个函数很简单，就是根据当前节点名把对应已经吃的药数量加一。
这个函数会作为判断是否使用药品节点的 Action 进行调用，不用单独的节点。

4. 初始化数据。
唯一一个不在恢复.json 文件，而是在跑图主流程.json文件里的函数。这个函数的作用是初始化已用药水计数，获取用户输入的药水使用上限信息，清除上次任务遗留内容以避免内存泄露。这个节点通过 interface 中的 override 来获取用户输入，一些说明你可以在 dooc 文件中的 override .md 文件中看到，注意避开其中提到的陷阱。